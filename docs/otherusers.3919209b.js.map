{"mappings":"qfAGA,MAAMA,EAAoBC,SAASC,eAAe,gBAC5CC,EAAqBF,SAASC,eAAe,wBAC7CE,EAAkBH,SAASC,eAAe,oBAG1CG,EAAeC,aAAaC,QAAQ,iBAAmB,GAU7DC,eAAeC,EAAkBC,GAC/B,MAAMC,SAAoB,EAAAC,EAAAC,aAAYH,EAAKI,OAAOC,OAClD,MAAO,wQAOYL,EAAKM,8MAMKN,EAAKI,2RAOFH,uIAKZD,EAAKI,mRAa3B,CAhDIV,IACFA,EAAgBa,UAAYX,aAAaC,QAAQ,iBAAmB,IAGtEP,GAAmBkB,iBAAiB,SAAS,KCb3CZ,aAAaa,WAAW,gBACxBC,SAASC,OAAO,eDaV,KA6CR,EAAAT,EAAAU,eAAcC,MAAKf,MAAOgB,IACxB,GAAIrB,EAAoB,CACtBqB,EAAQA,EAAMC,QAAOf,GAAQA,EAAKI,OAAST,IAC3C,MAAMqB,SAAmBC,QAAQC,IAAIJ,EAAMK,IAAIpB,KAAqBqB,KAClE,IAEF3B,EAAmB4B,UAAYL,EAC/BF,EAAMK,KAAKnB,IACqBT,SAASC,eACrCQ,EAAKI,KAAO,QAEQI,iBAAiB,SAAS,KAC9CZ,aAAa0B,QAAQ,cAAetB,EAAKI,MACzCM,SAASC,OAAO,8BAElB,GAEJ","sources":["src/otherusers.ts","src/signout.ts"],"sourcesContent":["import { signOut } from \"./signout\";\nimport { getAllUsers, getUserPost, User } from \"./firebase\";\n\nconst signOutBtnElement = document.getElementById(\"sign-out-btn\");\nconst getAllUsersElement = document.getElementById(\"other-user-container\");\nconst usernameElement = document.getElementById(\"username-element\");\n\n\nconst signedInUser = localStorage.getItem(\"signedInUser\") ?? \"\";\n\nif (usernameElement) {\n  usernameElement.innerText = localStorage.getItem(\"signedInUser\") ?? \"\";\n}\n\nsignOutBtnElement?.addEventListener(\"click\", () => {\n  signOut();\n});\n\nasync function otherUserTemplate(user: User) {\n  const postAmount = (await getUserPost(user.name)).length;\n  return `\n  <div class=\"col col-md-9 col-lg-7 col-xl-5 m-auto\">\n    <div class=\"card\" style=\"border-radius: 15px\">\n      <div class=\"card-body p-4\">\n        <div class=\"d-flex text-black\">\n          <div class=\"flex-shrink-0\">\n            <img\n              src=\"${user.image}\"\n              class=\"img-fluid\"\n              style=\"width: 180px; border-radius: 10px\"\n            />\n          </div>\n          <div class=\"flex-grow-1 ms-3\">\n            <h5 class=\"mb-1\">${user.name}</h5>\n            <div\n              class=\"d-flex justify-content-start rounded-3 p-2 mb-2\"\n              style=\"background-color: #efefef\"\n            >\n              <div>\n                <p class=\"small text-muted mb-1\">Articles</p>\n                <p class=\"mb-0\">${postAmount}</p>\n              </div>\n            </div>\n            <div class=\"d-flex pt-1\">\n              <button \n                id=\"${user.name}-btn\"\n                type=\"button\"\n                class=\"btn btn-outline-primary me-1 flex-grow-1\"\n              >\n                Go to profile\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  `;\n}\n\ngetAllUsers().then(async (users) => {\n  if (getAllUsersElement) {\n    users = users.filter(user => user.name !== signedInUser)\n    const usersHtml = (await Promise.all(users.map(otherUserTemplate))).join(\n      \"\"\n    );\n    getAllUsersElement.innerHTML = usersHtml;\n    users.map((user) => {\n      const goToProfileBtnElement = document.getElementById(\n        user.name + \"-btn\"\n      ) as HTMLButtonElement;\n      goToProfileBtnElement.addEventListener(\"click\", () => {\n        localStorage.setItem(\"visitedUser\", user.name);\n        location.assign(\"./otherusersprofile.html\");\n        // open(\"http://localhost:1234/src/html/otherusersprofile.html\", \"_self\");\n      });\n    });\n  }\n});\n","function signOut() {\n  localStorage.removeItem(\"signedInUser\");\n  location.assign(\"./index.html\")\n  // open(\"http://localhost:1234\", \"_self\");\n}\n\nexport { signOut };\n"],"names":["$4e88e6c5957558a2$var$signOutBtnElement","document","getElementById","$4e88e6c5957558a2$var$getAllUsersElement","$4e88e6c5957558a2$var$usernameElement","$4e88e6c5957558a2$var$signedInUser","localStorage","getItem","async","$4e88e6c5957558a2$var$otherUserTemplate","user","postAmount","$fASYj","getUserPost","name","length","image","innerText","addEventListener","removeItem","location","assign","getAllUsers","then","users","filter","usersHtml","Promise","all","map","join","innerHTML","setItem"],"version":3,"file":"otherusers.3919209b.js.map"}